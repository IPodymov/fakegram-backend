# Fakegram Backend

Instagram Clone Backend API Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ½Ğ° NestJS, TypeORM Ğ¸ PostgreSQL.

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
src/
â”œâ”€â”€ config/                 # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
â”‚   â”œâ”€â”€ database.config.ts  # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ PostgreSQL/TypeORM
â”‚   â””â”€â”€ jwt.config.ts       # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ JWT Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”œâ”€â”€ common/                 # ĞĞ±Ñ‰Ğ¸Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸
â”‚   â”œâ”€â”€ guards/            # Guard'Ñ‹ (JwtAuthGuard)
â”‚   â”œâ”€â”€ decorators/        # Ğ”ĞµĞºĞ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ñ‹ (@CurrentUser)
â”‚   â”œâ”€â”€ interceptors/      # Interceptor'Ñ‹
â”‚   â””â”€â”€ filters/           # Exception Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹
â”œâ”€â”€ entities/              # TypeORM Entities (Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Ğ‘Ğ”)
â”‚   â”œâ”€â”€ user.entity.ts
â”‚   â”œâ”€â”€ post.entity.ts
â”‚   â”œâ”€â”€ story.entity.ts
â”‚   â”œâ”€â”€ comment.entity.ts
â”‚   â”œâ”€â”€ like.entity.ts
â”‚   â”œâ”€â”€ follower.entity.ts
â”‚   â”œâ”€â”€ direct-message.entity.ts
â”‚   â”œâ”€â”€ notification.entity.ts
â”‚   â”œâ”€â”€ reel.entity.ts
â”‚   â””â”€â”€ user-reel-history.entity.ts
â””â”€â”€ modules/               # Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¼Ğ¾Ğ´ÑƒĞ»Ğ¸
    â”œâ”€â”€ auth/             # ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (login, register)
    â”‚   â”œâ”€â”€ dto/
    â”‚   â”œâ”€â”€ auth.controller.ts
    â”‚   â”œâ”€â”€ auth.service.ts
    â”‚   â””â”€â”€ auth.module.ts
    â”œâ”€â”€ users/            # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
    â”‚   â”œâ”€â”€ dto/
    â”‚   â”œâ”€â”€ users.controller.ts
    â”‚   â”œâ”€â”€ users.service.ts
    â”‚   â””â”€â”€ users.module.ts
    â”œâ”€â”€ posts/            # ĞŸĞ¾ÑÑ‚Ñ‹
    â”‚   â”œâ”€â”€ dto/
    â”‚   â”œâ”€â”€ posts.controller.ts
    â”‚   â”œâ”€â”€ posts.service.ts
    â”‚   â””â”€â”€ posts.module.ts
    â”œâ”€â”€ stories/          # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ (24Ñ‡)
    â”œâ”€â”€ comments/         # ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğº Ğ¿Ğ¾ÑÑ‚Ğ°Ğ¼
    â”œâ”€â”€ likes/            # Ğ›Ğ°Ğ¹ĞºĞ¸
    â”œâ”€â”€ followers/        # ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸
    â”œâ”€â”€ messages/         # Ğ›Ğ¸Ñ‡Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
    â”œâ”€â”€ notifications/    # Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
    â””â”€â”€ reels/            # Reels Ğ²Ğ¸Ğ´ĞµĞ¾
```

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ¡Ñ…ĞµĞ¼Ğ° Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹:

- **users** - Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
- **posts** - Ğ¿Ğ¾ÑÑ‚Ñ‹ Ñ Ñ„Ğ¾Ñ‚Ğ¾/Ğ²Ğ¸Ğ´ĞµĞ¾
- **stories** - Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ (24 Ñ‡Ğ°ÑĞ°)
- **comments** - ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğº Ğ¿Ğ¾ÑÑ‚Ğ°Ğ¼
- **likes** - Ğ»Ğ°Ğ¹ĞºĞ¸ Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²
- **followers** - Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
- **direct_messages** - Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
- **notifications** - ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
- **reels** - ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğµ Ğ²Ğ¸Ğ´ĞµĞ¾
- **user_reel_history** - Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¾Ğ² reels

## ğŸš€ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹

### Production Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

```bash
npm install @nestjs/common@^11.0.1
npm install @nestjs/config@^3.2.2
npm install @nestjs/core@^11.0.1
npm install @nestjs/jwt@^10.2.0
npm install @nestjs/platform-express@^11.0.1
npm install @nestjs/typeorm@^10.0.2
npm install bcrypt@^5.1.1
npm install class-transformer@^0.5.1
npm install class-validator@^0.14.1
npm install pg@^8.11.3
npm install reflect-metadata@^0.2.2
npm install rxjs@^7.8.1
npm install typeorm@^0.3.20
```

### Development Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

```bash
npm install -D @types/bcrypt@^5.0.2
```

## ğŸ“¦ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¾Ğ´Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹

```bash
npm install
```

## âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ `.env.example` Ğ² `.env` Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹Ñ‚Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ:

```bash
cp .env.example .env
```

ĞÑ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€ÑƒĞ¹Ñ‚Ğµ `.env` Ğ¸ ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ²Ğ°ÑˆĞµĞ¹ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… PostgreSQL.

## ğŸƒ Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```bash
# Development Ñ€ĞµĞ¶Ğ¸Ğ¼
npm run start:dev

# Production Ñ€ĞµĞ¶Ğ¸Ğ¼
npm run build
npm run start:prod
```

## ğŸ“ API Endpoints

### ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
- `POST /auth/register` - Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- `POST /auth/login` - ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸
- `GET /users` - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
- `GET /users/:id` - ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- `GET /users/username/:username` - ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ username
- `PUT /users/:id` - ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ
- `DELETE /users/:id` - Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

### ĞŸĞ¾ÑÑ‚Ñ‹
- `GET /posts` - Ğ›ĞµĞ½Ñ‚Ğ° Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ²
- `GET /posts?userId=:id` - ĞŸĞ¾ÑÑ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- `GET /posts/:id` - ĞĞ´Ğ¸Ğ½ Ğ¿Ğ¾ÑÑ‚
- `POST /posts` - Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚
- `PUT /posts/:id` - ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚
- `DELETE /posts/:id` - Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑÑ‚

## ğŸ”§ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸

- **NestJS** - Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº Ğ´Ğ»Ñ Node.js
- **TypeORM** - ORM Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ‘Ğ”
- **PostgreSQL** - Ñ€ĞµĞ»ÑÑ†Ğ¸Ğ¾Ğ½Ğ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- **JWT** - Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Ñ‚Ğ¾ĞºĞµĞ½Ñ‹
- **bcrypt** - Ñ…ĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹
- **class-validator** - Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- **class-transformer** - Ñ‚Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²

## ğŸ“š Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾

Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ:
- ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ Ğ´Ğ»Ñ stories, comments, likes, followers, messages, notifications, reels
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºÑƒ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¸Ğ»Ğ¸ Ğ² S3)
- WebSocket Ğ´Ğ»Ñ real-time Ñ‡Ğ°Ñ‚Ğ° Ğ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
- ĞŸĞ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²
- Rate limiting
- Ğ¢ĞµÑÑ‚Ñ‹
